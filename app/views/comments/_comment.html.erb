<div class="comment-form">
  <ul>
    <li id="comment-<%= comment.id %>">
      <div id="likeable-<%= comment.id %>">
        <p><%= comment.user.full_name %></p>
        <p><%= comment.content %></p>
        <% if user_is_current_user?(comment.user) %>
          <div>
            <%= link_to 'delete comment', comment_path(comment), method: :delete, data: { confirm: 'Are you sure you want to delete this post?'}%>
            <%= link_to 'edit comment', edit_comment_path(comment) %>
          </div>
        <% end %>
        <br>
        <em><%= time_ago_in_words(comment.created_at) %> ago</em>
        <% if comment.edited? %>
          <div>
            <em>edited</em>
          </div>
        <% end %>
        <% if comment.likes.any? && !current_page?(comment_path(comment)) %>
          <%= render partial: 'likes/like_count', locals: { likeable: comment, path: comment_path(comment) } %>
        <% end %>
        <%= render partial: 'likes/like_button', locals: { likeable: comment, path: comment_likes_path(comment) } %>
      </div>
      <%= render partial: 'comments/comment_form',
                          locals: { object: Comment.new,
                                    path: comment_comments_path(comment),
                                    id: "post-#{comment.commentable_id}-comment-#{comment.id}-reply" } %>
    </li>
  </ul>
  <ul>
    <%= render partial: 'comments/comment', collection: comment.comments %>
  </ul>
</div>
