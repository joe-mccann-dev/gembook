<li>
  <div id="likeable-<%= post.id %>">
    <p><%= full_name(post.user) %></p>
    <% if post.content.present? %>
      <p style="border: solid 1px black; border-radius: 12px; max-width: 500px; padding: 24px;">
        <%= post.content %>
      </p>
    <% end %>
    <% if post.image.present? %>
      <div class="post-image">
        <%= link_to image_tag(post
                      .image
                      .representation(resize_to_fit: [400, 400], convert: "png"), alt: 'a user posted image'),
                    url_for(post.image),
                    id: "post-#{post.id}-image" %>
      </div>
    <% end %>
    <% if user_is_current_user?(post.user) %>
      <div>
        <%= link_to 'delete post', post_path(post), method: :delete, data: { confirm: 'Are you sure you want to delete this post?'}%>
        <%= link_to 'edit post', edit_post_path(post) %>
      </div>
    <% end %>
    <br>
    <em>posted <%= time_ago_in_words(post.created_at) %> ago</em>
    <% if post.edited? %>
      <div>
        <em>updated <%= time_ago_in_words(post.updated_at) %> ago</em>
      </div>
    <% end %>
    <div class="post-likes">
      <% if post.likes.any? && !current_page?(post_path(post)) %>
        <%= render partial: 'likes/like_count', locals: { likeable: post, path: post_path(post) } %>
      <% end %>
      <%= render partial: 'likes/like_button', locals: { likeable: post, path: post_likes_path(post) } %>
      <%= render partial: 'comments/comment_form',
                          locals: { object: Comment.new,
                                    path: post_comments_path(post),
                                    id: "post-#{post.id}-comment"} %>
      <div class="post-comments">
        <%= render partial: "/comments/comment", collection: post.comments  %>
      </div>
    </div>
  </div>
</li>
